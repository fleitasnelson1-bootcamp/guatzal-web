<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="css/login.css">
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
</head>
<body>
	<div>
		<form method="POST" action="#" id="login-form" onsubmit="sendData()">
			<h4>Login</h4>
			<label for="username">User</label>
			<input type="text" name="username" required="text" id="username">
			<label for="password">Password</label>
			<input type="password" name="password" required="text" id="password">
			<br>
			<button class="button primary-button" type="submit" >Access</button>
		</form>
	</div>
</body>

<script type="text/javascript">
	/*
		Referencias: 
		https://javascript.info/formdata
		https://developer.mozilla.org/es/docs/Learn/HTML/Forms/Sending_and_retrieving_form_data
		https://developer.mozilla.org/es/docs/Web/JavaScript/Referencia/Sentencias/funcion_asincrona
		https://developer.mozilla.org/es/docs/Web/API/Event/preventDefault
		https://www.w3schools.com/jsref/event_onsubmit.asp
	*/
	//Url del servlet login
	let url = 'http://localhost:8080/GuatzakWeb/login';
	
	async function sendData(){
		//Obtengo la referencia al formulario del login.
		let formData = new FormData( document.getElementById('login-form'));
		
		let response = await fetch(url, {
			method: 'POST',
			body: formData
		});
		
		let result = await response.text();
		alert(result);
	}
</script>
</html>